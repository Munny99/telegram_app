<div class="refer-page">
  <!-- Confetti Animation -->
  <div class="confetti-container" *ngIf="showConfetti">
    <div class="confetti" *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]"></div>
  </div>

  <!-- Header Section -->
  <div class="header-section">
    <div class="header-icon">ЁЯОЙ</div>
    <h1>Invite & Earn</h1>
    <p class="subtitle">ржмржирзНржзрзБржжрзЗрж░ invite ржХрж░рзБржи ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ рж╕ржлрж▓ рж░рзЗржлрж╛рж░рзЗрж▓рзЗ рз│рззрзжрзж ржЯрж╛ржХрж╛ ржкрж╛ржи!</p>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">ЁЯСе</div>
      <div class="stat-content">
        <div class="stat-value">{{ stats.totalReferrals }}</div>
        <div class="stat-label">ржорзЛржЯ рж░рзЗржлрж╛рж░рзЗрж▓</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">тЬЕ</div>
      <div class="stat-content">
        <div class="stat-value">{{ stats.activeReferrals }}</div>
        <div class="stat-label">рж╕ржХрзНрж░рж┐ржпрж╝ рж░рзЗржлрж╛рж░рзЗрж▓</div>
      </div>
    </div>

    <div class="stat-card highlight">
      <div class="stat-icon">ЁЯТ░</div>
      <div class="stat-content">
        <div class="stat-value">рз│{{ stats.totalEarnings.toFixed(2) }}</div>
        <div class="stat-label">ржорзЛржЯ ржЖржпрж╝</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">тП│</div>
      <div class="stat-content">
        <div class="stat-value">рз│{{ stats.pendingEarnings.toFixed(2) }}</div>
        <div class="stat-label">ржЕржкрзЗржХрзНрж╖ржорж╛ржг ржЖржпрж╝</div>
      </div>
    </div>
  </div>

  <!-- Referral Code Section -->
  <div class="referral-section">
    <h2>ржЖржкржирж╛рж░ рж░рзЗржлрж╛рж░рзЗрж▓ ржХрзЛржб</h2>
    <div class="referral-box">
      <div class="code-display">
        <span class="code-label">ржХрзЛржб:</span>
        <span class="code-value">{{ referralCode }}</span>
      </div>
      <button class="copy-btn" (click)="copyReferral()" [class.copied]="copied">
        <span class="btn-icon">{{ copied ? 'тЬЕ' : 'ЁЯУЛ' }}</span>
        <span class="btn-text">{{ copied ? 'Copied!' : 'Copy Code' }}</span>
      </button>
    </div>
  </div>

  <!-- Share Section -->
  <div class="share-section">
    <h2>рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзБржи</h2>
    <div class="share-grid">
      <button
        *ngFor="let option of shareOptions; trackBy: trackByIndex"
        class="share-btn"
        [style.--btn-color]="option.color"
        (click)="shareVia(option)">
        <span class="share-icon">{{ option.icon }}</span>
        <span class="share-name">{{ option.name }}</span>
      </button>
    </div>
  </div>

  <!-- Rewards Section -->
  <div class="rewards-section">
    <h2>ЁЯОБ рж░рж┐ржУржпрж╝рж╛рж░рзНржб ржорж╛ржЗрж▓рж╕рзНржЯрзЛржи</h2>
    <div class="rewards-grid">
      <div class="reward-card" *ngFor="let reward of rewards; trackBy: trackByIndex">
        <div class="reward-icon">{{ reward.icon }}</div>
        <div class="reward-content">
          <h3>{{ reward.title }}</h3>
          <p class="reward-description">{{ reward.description }}</p>
          <div class="reward-amount">рз│{{ reward.amount }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Referral History -->
  <div class="history-section">
    <div class="section-header">
      <h2>рж╕рж╛ржорзНржкрзНрж░рждрж┐ржХ рж░рзЗржлрж╛рж░рзЗрж▓</h2>
      <a href="javascript:void(0)" class="view-all">рж╕ржм ржжрзЗржЦрзБржи тЖТ</a>
    </div>

    <div class="history-list">
      <div class="history-item" *ngFor="let item of referralHistory; trackBy: trackByIndex">
        <div class="history-avatar">
          <span>{{ item.name.charAt(0) }}</span>
        </div>
        <div class="history-details">
          <div class="history-name">{{ item.name }}</div>
          <div class="history-date">{{ formatDate(item.date) }}</div>
        </div>
        <div class="history-status">
          <span class="status-badge" [ngClass]="getStatusClass(item.status)">
            {{ getStatusText(item.status) }}
          </span>
          <div class="history-earnings">рз│{{ item.earnings }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- How It Works -->
  <div class="how-it-works">
    <h2>ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?</h2>
    <div class="steps-grid">
      <div class="step">
        <div class="step-number">1</div>
        <div class="step-content">
          <h3>рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзБржи</h3>
          <p>ржЖржкржирж╛рж░ рж░рзЗржлрж╛рж░рзЗрж▓ ржХрзЛржб ржмржирзНржзрзБржжрзЗрж░ рж╕рж╛ржерзЗ рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзБржи</p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">2</div>
        <div class="step-content">
          <h3>рж╕рж╛ржЗржи ржЖржк</h3>
          <p>ржЖржкржирж╛рж░ ржмржирзНржзрзБ ржХрзЛржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж╛ржЗржи ржЖржк ржХрж░ржмрзЗ</p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">3</div>
        <div class="step-content">
          <h3>ржЖржпрж╝ ржХрж░рзБржи</h3>
          <p>ржкрзНрж░рждрж┐ржЯрж┐ рж╕ржлрж▓ рж░рзЗржлрж╛рж░рзЗрж▓рзЗ ржмрзЛржирж╛рж╕ ржкрж╛ржи</p>
        </div>
      </div>
    </div>
  </div>
</div>
