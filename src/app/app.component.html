<div class="app-wrapper">
  <!-- Loading Screen -->
  <div class="loading-screen" *ngIf="loading">
    <div class="loading-content">
      <div class="spinner"></div>
      <p>টেলিগ্রামের সাথে সংযুক্ত হচ্ছে...</p>
    </div>
  </div>

  <!-- Error Screen -->
  <div class="error-screen" *ngIf="!loading && error">
    <div class="error-content">
      <div class="error-icon">⚠️</div>
      <h2>প্রমাণীকরণ ত্রুটি</h2>
      <p>{{ error }}</p>
      <button class="retry-btn" (click)="retryAuth()">
        <i class="bi bi-arrow-clockwise"></i> আবার চেষ্টা করুন
      </button>
    </div>
  </div>

  <!-- Main App Content (After Authentication) -->
  <div class="app-container" *ngIf="!loading && !error && authenticated">

    <!-- Router Outlet - Display current route -->
    <div class="content-area">
      <router-outlet></router-outlet>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <button
        class="nav-item"
        [class.active]="activeNav === 'home'"
        (click)="navigateTo('home')">
        <i class="bi bi-house-door-fill"></i>
        <span>হোম</span>
      </button>

      <button
        class="nav-item"
        [class.active]="activeNav === 'task'"
        (click)="navigateTo('task')">
        <i class="bi bi-list-task"></i>
        <span>টাস্ক</span>
      </button>

      <button
        class="nav-item"
        [class.active]="activeNav === 'referral'"
        (click)="navigateTo('referral')">
        <i class="bi bi-people-fill"></i>
        <span>রেফার</span>
      </button>

      <button
        class="nav-item"
        [class.active]="activeNav === 'wallet'"
        (click)="navigateTo('wallet')">
        <i class="bi bi-wallet2"></i>
        <span>ওয়ালেট</span>
      </button>

      <button
        class="nav-item"
        [class.active]="activeNav === 'profile'"
        (click)="navigateTo('profile')">
        <i class="bi bi-person-fill"></i>
        <span>প্রোফাইল</span>
      </button>
    </nav>

  </div>
</div>